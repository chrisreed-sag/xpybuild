
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>xpybuild.targets.archive &#8212; xpybuild 3.0.dev2 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="xpybuild.targets.writefile" href="xpybuild.targets.writefile.html" />
    <link rel="prev" title="xpybuild.targets.symlink" href="xpybuild.targets.symlink.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="xpybuild.targets.writefile.html" title="xpybuild.targets.writefile"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="xpybuild.targets.symlink.html" title="xpybuild.targets.symlink"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">xpybuild 3.0.dev2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">Module list</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-xpybuild.targets.archive">
<span id="xpybuild-targets-archive"></span><h1>xpybuild.targets.archive<a class="headerlink" href="#module-xpybuild.targets.archive" title="Permalink to this headline">¶</a></h1>
<div class="section" id="filteredarchivecontents">
<h2>FilteredArchiveContents<a class="headerlink" href="#filteredarchivecontents" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="xpybuild.targets.archive.FilteredArchiveContents">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.archive.</code><code class="sig-name descname">FilteredArchiveContents</code><span class="sig-paren">(</span><em class="sig-param">archivePath</em>, <em class="sig-param">includes=None</em>, <em class="sig-param">excludes=None</em>, <em class="sig-param">destMapper=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/archive.html#FilteredArchiveContents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.archive.FilteredArchiveContents" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object representing an archive to be passed to the Unpack target, with 
support for filtering which files are included/excluded, and per-item 
destination mapping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>archivePath</strong> – The archive to unpack; either a string or a singleton PathSet</p></li>
<li><p><strong>destMapper</strong> – A functor that takes a (context, destPath) where destPath 
is an archive-relative path (guaranteed to contain / not ), and 
returns the desired destination relative path string. 
The functor should have a deterministic and 
user-friendly __str__ implementation.</p></li>
<li><p><strong>includes</strong> – a list of include patterns (if provided excludes all non-matching files)</p></li>
<li><p><strong>excludes</strong> – a list of exclude patterns (processed after includes)</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="xpybuild.targets.archive.FilteredArchiveContents.getDependency">
<code class="sig-name descname">getDependency</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/archive.html#FilteredArchiveContents.getDependency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.archive.FilteredArchiveContents.getDependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dependency representing this archive (unexpanded and unresolved string, or PathSet).</p>
</dd></dl>

<dl class="method">
<dt id="xpybuild.targets.archive.FilteredArchiveContents.getResolvedPath">
<code class="sig-name descname">getResolvedPath</code><span class="sig-paren">(</span><em class="sig-param">context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/archive.html#FilteredArchiveContents.getResolvedPath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.archive.FilteredArchiveContents.getResolvedPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the fully resolved archive path.</p>
</dd></dl>

<dl class="method">
<dt id="xpybuild.targets.archive.FilteredArchiveContents.isIncluded">
<code class="sig-name descname">isIncluded</code><span class="sig-paren">(</span><em class="sig-param">context</em>, <em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/archive.html#FilteredArchiveContents.isIncluded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.archive.FilteredArchiveContents.isIncluded" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the specified path within the archive should be 
unpacked, based on the include/exclude filters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – a relative path within the archive</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tarball">
<h2>Tarball<a class="headerlink" href="#tarball" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="xpybuild.targets.archive.Tarball">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.archive.</code><code class="sig-name descname">Tarball</code><span class="sig-paren">(</span><em class="sig-param">archive</em>, <em class="sig-param">inputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/archive.html#Tarball"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.archive.Tarball" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="xpybuild.basetarget.html#xpybuild.basetarget.BaseTarget" title="xpybuild.basetarget.BaseTarget"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.basetarget.BaseTarget</span></code></a></p>
<p>Target that creates a .tar archive from a set of input files.</p>
<p>archive: the archive to be created</p>
<p>inputs: the files (usually pathsets) to be included in the archive.</p>
</dd></dl>

</div>
<div class="section" id="unpack">
<h2>Unpack<a class="headerlink" href="#unpack" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="xpybuild.targets.archive.Unpack">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.archive.</code><code class="sig-name descname">Unpack</code><span class="sig-paren">(</span><em class="sig-param">dest</em>, <em class="sig-param">archives</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/archive.html#Unpack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.archive.Unpack" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="xpybuild.basetarget.html#xpybuild.basetarget.BaseTarget" title="xpybuild.basetarget.BaseTarget"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.basetarget.BaseTarget</span></code></a></p>
<p>Target that creates a new directory containing the unpacked contents 
of one or more archives (e.g. .zip files).</p>
<p>The parent directory will be created if it doesn’t exist already.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dest</strong> – the output directory (ending with a “/”). Never 
specify a dest directory that is also written to by another 
target (e.g. do not specify a build ‘output’ directory here).</p></li>
<li><p><strong>archives</strong> – the input archives to be unpacked, which may be any 
combination of strings, PathSets, FilteredArchiveContents and lists of these. 
If these PathSets include mapping information, this 
will be used to define where (under the dest directory) each 
file from within that archive is copied (but cannot be used to 
change the archive-relative path of each item).</p></li>
</ul>
</dd>
</dl>
<p>For advanced cases, FilteredArchiveContents can be used to provide 
customized mapping and filtering of the archive contents, 
including manipulation of the destinations encoded within the 
archive itself.</p>
</dd></dl>

</div>
<div class="section" id="zip">
<h2>Zip<a class="headerlink" href="#zip" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="xpybuild.targets.archive.Zip">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.archive.</code><code class="sig-name descname">Zip</code><span class="sig-paren">(</span><em class="sig-param">archive</em>, <em class="sig-param">inputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/archive.html#Zip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.archive.Zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="xpybuild.basetarget.html#xpybuild.basetarget.BaseTarget" title="xpybuild.basetarget.BaseTarget"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.basetarget.BaseTarget</span></code></a></p>
<p>Target that creates a zip archive from a set of input files.</p>
<p>archive: the archive to be created</p>
<p>inputs: the files (usually pathsets) to be included in the archive.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">xpybuild.targets.archive</a><ul>
<li><a class="reference internal" href="#filteredarchivecontents">FilteredArchiveContents</a></li>
<li><a class="reference internal" href="#tarball">Tarball</a></li>
<li><a class="reference internal" href="#unpack">Unpack</a></li>
<li><a class="reference internal" href="#zip">Zip</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="xpybuild.targets.symlink.html"
                        title="previous chapter">xpybuild.targets.symlink</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="xpybuild.targets.writefile.html"
                        title="next chapter">xpybuild.targets.writefile</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/generated/xpybuild.targets.archive.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="xpybuild.targets.writefile.html" title="xpybuild.targets.writefile"
             >next</a> |</li>
        <li class="right" >
          <a href="xpybuild.targets.symlink.html" title="xpybuild.targets.symlink"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">xpybuild 3.0.dev2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Module list</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Ben Spiller and Matthew Johnson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>